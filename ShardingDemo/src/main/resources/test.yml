sharding:
  jdbc:
    config:
      sharding:
        default-data-source-name: ds
        default-database-strategy:
          inline:
            algorithm-expression: ds_${user_id % 2}
            sharding-column: user_id
        tables:
          t_order:
            actualDataNodes: ds_${0..1}.t_order_${0..1}
            keyGeneratorColumnName: order_id
            tableStrategy:
              inline:
                algorithmInlineExpression: t_order_${order_id % 2}
                shardingColumn: order_id
          t_order_item:
            actualDataNodes: ds_${0..1}.t_order_item_${0..1}
            keyGeneratorColumnName: order_item_id
            tableStrategy:
              inline:
                algorithmInlineExpression: t_order_item_${order_id % 2}
                shardingColumn: order_id
    datasource:
      ds:
        driverClassName: org.h2.Driver
        password: ''
        type: org.apache.commons.dbcp.BasicDataSource
        url: jdbc:mysql://localhost:3306/ds
        username: root
      ds_0:
        driverClassName: com.mysql.jdbc.Driver
        password: ''
        type: org.apache.commons.dbcp.BasicDataSource
        url: jdbc:mysql://localhost:3306/ds_0
        username: root
      ds_1:
        driverClassName: com.mysql.jdbc.Driver
        password: ''
        type: org.apache.commons.dbcp.BasicDataSource
        url: jdbc:mysql://localhost:3306/ds_1
        username: root
      names: ds,ds_0,ds_1
